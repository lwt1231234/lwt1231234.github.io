require=function o(c,s,l){function h(t,e){if(!s[t]){if(!c[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(r)return r(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[t]={exports:{}};c[t][0].call(a.exports,function(e){return h(c[t][1][e]||e)},a,a.exports,o,c,s,l)}return s[t].exports}for(var r="function"==typeof require&&require,e=0;e<l.length;e++)h(l[e]);return h}({BombControl:[function(e,t,i){"use strict";cc._RF.push(t,"f006dOI6iNHNLyrR417s9wV","BombControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Timer:{default:null,visible:!1},Timer2:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Timer=-1,this.Timer2=-1,cc.director.getCollisionManager().enabled=!0},update:function(e){if(0<this.Timer){this.Timer-=e;var t=this.node.scale;this.node.scale=cc.v2(t+150*e,t+150*e),this.Timer<=0&&(this.Timer2=.1)}0<this.Timer2&&(this.Timer2-=e,this.Timer2<=0&&(this.node.active=!1,this.node.scale=cc.v2(1,1)))},onCollisionEnter:function(e,t){this.GameManager.getComponent("GameManager").GamePause||"Bullet"==e.node.name&&e.node.destroy()}}),cc._RF.pop()},{}],BulletControl:[function(e,t,i){"use strict";var n;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"8e45ceGcldKVbfIk1i5rKq7","BulletControl"),cc.Class({extends:cc.Component,properties:(n={GameManager:{default:null,type:cc.Node},NormalBulletSpeed:{default:null,visible:!1},GameSpeedThis:{default:null,visible:!1}},a(n,"GameSpeedThis",{default:null,visible:!1}),a(n,"Enlargex",{default:null,visible:!1}),a(n,"Enlargey",{default:null,visible:!1}),n),onLoad:function(){this.GameManager=cc.find("Canvas/GameManager");var e=this.GameManager.getComponent("GameManager").BulletLifeTime;this.scheduleOnce(function(){this.TImeOut()},e),this.GameSpeedThis=1,this.Enlargex=!1,this.Enlargey=!1},start:function(){},TImeOut:function(){this.node.destroy()},update:function(e){var t=this.GameManager.getComponent("GameManager").GameSpeed;if(1==this.GameSpeedThis&&1!=t){var i=this.node.getComponent(cc.RigidBody).linearVelocity.x,n=this.node.getComponent(cc.RigidBody).linearVelocity.y;this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(i*t,n*t),this.GameSpeedThis=t}if(1!=this.GameSpeedThis&&1==t){i=this.node.getComponent(cc.RigidBody).linearVelocity.x,n=this.node.getComponent(cc.RigidBody).linearVelocity.y;this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(i/this.GameSpeedThis,n/this.GameSpeedThis),this.GameSpeedThis=1}1!=this.GameSpeedThis&&0==t&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.GameSpeedThis=1)},onBeginContact:function(e,t,i){var n=this.node.getComponent(cc.RigidBody).linearVelocity.x;n<33&&0<=n&&(n+=35,this.Enlargex=!0),-33<n&&n<=0&&(n-=35,this.Enlargex=!0);var a=this.node.getComponent(cc.RigidBody).linearVelocity.y;a<33&&0<=a&&(a+=35,this.Enlargey=!0),-33<a&&a<=0&&(a-=35,this.Enlargey=!0),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(n,a)},onEndContact:function(e,t,i){var n=this.node.getComponent(cc.RigidBody).linearVelocity.x;this.Enlargex&&(0<n?n-=35:n+=35,this.Enlargex=!1);var a=this.node.getComponent(cc.RigidBody).linearVelocity.y;this.Enlargey&&(0<a?a-=35:a+=35,this.Enlargey=!1),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(n,a)}}),cc._RF.pop()},{}],ChooseActiveSkill:[function(e,t,i){"use strict";cc._RF.push(t,"085b9tW1Y1GnIcqObTUWGcc","ChooseActiveSkill"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},SkillList:{default:null,visible:!1},SkillTypeNum:{default:null,visible:!1},SkillType:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.SkillTypeNum=2,this.SkillList=new Array(this.SkillTypeNum),this.SkillList[0]=this.node.getChildByName("view").getChildByName("content").getChildByName("Skill0"),this.SkillList[1]=this.node.getChildByName("view").getChildByName("content").getChildByName("Skill1")},start:function(){},ChooseSkill:function(e){var t;for(this.SkillType=e,t=0;t<this.SkillTypeNum;t++)this.SkillList[t].getComponent("OneActiveSkill").Choosed.active=t==e},PressOK:function(){null!=this.SkillType&&(this.GameManager.getComponent("GameManager").Skill_1_Type=this.SkillType,this.GameManager.getComponent("GameManager").GameInit(),this.node.active=!1)}}),cc._RF.pop()},{}],DeviceMotionControl:[function(e,t,i){"use strict";cc._RF.push(t,"e9ca47Nw6BI1LN/gS8NBKWj","DeviceMotionControl"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},_acc:cc.p(0,0),init:cc.p(0,0)},onLoad:function(){cc.systemEvent.setAccelerometerEnabled(!0),cc.systemEvent.on(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)},onDestroy:function(){cc.systemEvent.setAccelerometerEnabled(!1),cc.systemEvent.off(cc.SystemEvent.EventType.DEVICEMOTION,this.onDeviceMotionEvent,this)},GameInit:function(){this.init.x=this._acc.x,this.init.y=this._acc.y},onDeviceMotionEvent:function(e){if(this._acc.x=e.acc.x,this._acc.y=e.acc.y,console.log(this._acc),0==this.node.getComponent("GameManager").GamePause){var t=this._acc.x-this.init.x,i=this._acc.y-this.init.y,n=Math.atan2(t,i);this._speed2=this.node.getComponent("GameManager").PlayerSpeed2;var a=cc.v2(Math.cos(n)*this._speed2*5,Math.sin(n)*this._speed2*5);this.Player.getComponent(cc.RigidBody).linearVelocity=a}},update:function(e){}}),cc._RF.pop()},{}],DieAction:[function(e,t,i){"use strict";cc._RF.push(t,"48ea49YzyRP95cCNOjWmVte","DieAction");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{Type:{default:n.DieActionType.Up,type:n.DieActionType,displayName:"类型"},Die1:{default:null,type:cc.Node},Die2:{default:null,type:cc.Node},Die3:{default:null,type:cc.Node},Die4:{default:null,type:cc.Node}},start:function(){},LetDie:function(){this.Die1.active=!0,this.Die1.getComponent("DieAction").Die(),this.Die2.active=!0,this.Die2.getComponent("DieAction").Die(),this.Die3.active=!0,this.Die3.getComponent("DieAction").Die(),this.Die4.active=!0,this.Die4.getComponent("DieAction").Die()},Die:function(){this.node.setPosition(0,0),0==this.Type&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(100,0)),1==this.Type&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(-100,0)),2==this.Type&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,100)),3==this.Type&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-100)),this.scheduleOnce(function(){this.node.active=!1},2)}}),cc._RF.pop()},{GameCommon:"GameCommon"}],GameCommon:[function(e,t,i){"use strict";cc._RF.push(t,"491315VcR5Ik77hV2DK5Oad","GameCommon"),t.exports={TouchType:cc.Enum({DEFAULT:0,FOLLOW:1}),DirectionType:cc.Enum({FOUR:4,EIGHT:8,ALL:0}),ItemType:cc.Enum({upRotationSpeed:0,upShootSpeed:1,upBulletSpeed:2,upBulletLifeTime:3,upPlayerSpeed:4,upSkill_1_MAX:5,GetShield:6}),ActiveSkillType:cc.Enum({SlowTime:0,Bomb:1}),LabelType:cc.Enum({UpdateLog:0,Bomb:1}),DieActionType:cc.Enum({Up:0,Down:1,Left:2,Right:3}),MessageType:cc.Enum({RemoveData:0,SubmitData:1,RankFriend:2})},cc._RF.pop()},{}],GameManager:[function(e,t,i){"use strict";cc._RF.push(t,"b3132qQpsJFSYeIwvqZPTi4","GameManager");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{Canvas:{default:null,type:cc.Node},label_PlayerSpeed:{default:null,type:cc.Label},label_Skill_1_Name:{default:null,type:cc.Label},label_Skill_1_Time:{default:null,type:cc.Label},label_RotationSpeed:{default:null,type:cc.Label},label_ShootSpeed:{default:null,type:cc.Label},label_BulletSpeed:{default:null,type:cc.Label},label_BulletLifeTime:{default:null,type:cc.Label},label_Score:{default:null,type:cc.Label},label_GameOverScore:{default:null,type:cc.Label},Player:{default:null,type:cc.Node},Turret:{default:null,type:cc.Node},Block1:{default:null,type:cc.Node},Block2:{default:null,type:cc.Node},Block3:{default:null,type:cc.Node},Block4:{default:null,type:cc.Node},MainMenuUI:{default:null,type:cc.Node},GuideUI:{default:null,type:cc.Node},ChooseActiveSkillUI:{default:null,type:cc.Node},GameOverUI:{default:null,type:cc.Node},GameAreaUI:{default:null,type:cc.Node},GameRankUI:{default:null,type:cc.Node},UpdateLogUI:{default:null,type:cc.Node},upRotationSpeedPrefab:{default:null,type:cc.Prefab},upShootSpeedPrefab:{default:null,type:cc.Prefab},upBulletSpeedPrefab:{default:null,type:cc.Prefab},upBulletLifeTimePrefab:{default:null,type:cc.Prefab},upPlayerSpeedPrefab:{default:null,type:cc.Prefab},upSkill_1_MAXPrefab:{default:null,type:cc.Prefab},GetShieldPrefab:{default:null,type:cc.Prefab},PointRotationSpeedPrefab:{default:null,type:cc.Prefab},PointShootSpeedPrefab:{default:null,type:cc.Prefab},PointBulletSpeedPrefab:{default:null,type:cc.Prefab},PointBulletLifeTimePrefab:{default:null,type:cc.Prefab},PointPlayerSpeedPrefab:{default:null,type:cc.Prefab},PointSkill_1_MAXPrefab:{default:null,type:cc.Prefab}},onLoad:function(){this.physicsManager=cc.director.getPhysicsManager(),this.physicsManager.enabled=!0,this.GameSpeed=0,this.GamePause=!0,this.CanClick=!0,this.MainMenuUI.active=!0,this.GuideUI.active=!1,this.GameAreaUI.active=!1,this.ChooseActiveSkillUI.active=!1,this.GameOverUI.active=!1,this.GameRankUI.active=!1,this.UpdateLogUI.active=!1},ChooseActiveSkill:function(){this.GameAreaUI.active=!1,this.ChooseActiveSkillUI.active=!0},GameInit:function(){this.GameAreaUI.active=!0,this.PlayerSpeed2UI=1,this.RotationSpeedUI=1,this.BulletScaleUI=1,this.ShootSpeedUI=1,this.BulletSpeedUI=1,this.BulletLifeTimeUI=1,this.Skill_1_On=!1,this.Skill_1_Level=1,this.Skill_1_Time=5,this.Skill_1_Max=5,this.GameSpeed=1,this.Score=0,this.ItemNum=0,this.Player.x=-200,this.Player.y=0,this.GameSpeed=1,this.GamePause=!1,this.CanClick=!0,this.ItemLifeTime1=0,this.ItemLifeTime2=10,this.UpdateData(),this.ItemNum++,this.SwapBadItem(),this.Turret.getComponent("TurretControl").GameInit(),this.Player.getComponent("PlayerControl").GameInit(),this.node.getComponent("DeviceMotionControl").GameInit()},GameOver:function(){this.GamePause=!0,this.scheduleOnce(function(){this.PlayerDead()},1)},PlayerDead:function(){this.Player.getComponent("PlayerControl").Die(),this.scheduleOnce(function(){this.GameReset()},1)},GameReset:function(){for(var e=this.node.children,t=0;t<this.node.childrenCount;t++)e[t].destroy();this.Turret.getComponent("TurretControl").GameReset(),this.GameOverUI.active=!0,this.label_GameOverScore.string="得分："+this.Score.toString(),this.GameRankUI.active=!0,this.SubmitScore(),this.GameRankUI.getComponent("GameRankControl").GetFirendRank()},start:function(){},update:function(e){this.GamePause?this.GameSpeed=0:(this.Skill_1_On||this.Skill_1_Time<this.Skill_1_Max&&(this.Skill_1_Time+=e/3,this.UpdateData()),this.Skill_1_Type==n.ActiveSkillType.SlowTime&&(this.Skill_1_On?0<this.Skill_1_Time?(this.GameSpeed=1/(1+this.Skill_1_Level),this.Skill_1_Time-=e,this.Skill_1_Time<0&&(this.Skill_1_Time=0),this.UpdateData()):(this.GameSpeed=1,this.Skill_1_Time=0):this.GameSpeed=1))},UpdateData:function(){this.label_PlayerSpeed.string=this.PlayerSpeed2UI.toString(),this.label_RotationSpeed.string=this.RotationSpeedUI.toString(),this.label_ShootSpeed.string=this.ShootSpeedUI.toString(),this.label_BulletSpeed.string=this.BulletSpeedUI.toString(),this.label_BulletLifeTime.string=this.BulletLifeTimeUI.toString(),this.label_Score.string=this.Score.toString();var e=(Math.floor(10*this.Skill_1_Time)/10).toString();e.length<3&&(e+=".0"),this.label_Skill_1_Time.string=e,this.PlayerSpeed2=2*(this.PlayerSpeed2UI-1)+20,this.PlayerSpeed1=this.PlayerSpeed2/2,this.RotationSpeed=10+this.RotationSpeedUI,this.ShootSpeed=30/(15+this.ShootSpeedUI),this.BulletSpeed=200+3*this.BulletSpeedUI,this.BulletLifeTime=4+.5*this.BulletLifeTimeUI,this.BulletScale=20/(20+this.BulletScaleUI)+.2},_getARandomPositon:function(){for(var e,t,i,n;;){var a=20,o=1e3;if(0<=this.Score&&this.Score<5&&(a=100,o=150),5<=this.Score&&this.Score<15&&(a=150,o=200),15<=this.Score&&this.Score<25&&(a=200,o=250),25<=this.Score&&this.Score<35&&(a=250,o=300),35<=this.Score&&this.Score<50&&(a=300,o=400),e=Math.min(290,this.Player.getPosition().x+o),t=Math.max(-290,this.Player.getPosition().x-o),i=Math.random()*(e-t+1)+t,e=Math.min(290,this.Player.getPosition().y+o),t=Math.max(-290,this.Player.getPosition().y-o),n=Math.random()*(e-t+1)+t,!(this._getDistance(cc.v2(i,n),this.Block1.getPosition())<35||this._getDistance(cc.v2(i,n),this.Block2.getPosition())<35||this._getDistance(cc.v2(i,n),this.Block3.getPosition())<35||this._getDistance(cc.v2(i,n),this.Block4.getPosition())<35||this._getDistance(cc.v2(i,n),this.Turret.getPosition())<35||this._getDistance(cc.v2(i,n),this.Player.getPosition())<a))break}return cc.v2(i,n)},_getDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},SwapGoodItem:function(e){var t,i,n=new Array(this.upPlayerSpeedPrefab,this.upSkill_1_MAXPrefab,this.GetShieldPrefab);t=this.Player.getComponent("PlayerControl").HaveShield?Math.floor(2*Math.random()):Math.floor(3*Math.random()),(i=null==e?cc.instantiate(n[t]):cc.instantiate(e)).parent=this.node;var a=this._getARandomPositon();i.x=a.x,i.y=a.y},SwapBadItem:function(){var e=new Array(this.upRotationSpeedPrefab,this.upShootSpeedPrefab,this.upBulletSpeedPrefab,this.upBulletLifeTimePrefab),t=Math.floor(4*Math.random());this.Score<4&&(t=this.Score);var i=cc.instantiate(e[t]);i.parent=this.node;var n=this._getARandomPositon();i.x=n.x,i.y=n.y},SwapItem:function(){5==this.Score&&this.SwapBadItem(),15==this.Score&&this.SwapBadItem(),30==this.Score&&this.SwapBadItem(),this.Score%5==0?5==this.Score?this.SwapGoodItem(this.GetShieldPrefab):this.SwapGoodItem():this.SwapBadItem()},createPoint:function(e,t){var i=new Array(this.PointRotationSpeedPrefab,this.PointShootSpeedPrefab,this.PointBulletSpeedPrefab,this.PointBulletLifeTimePrefab,this.PointPlayerSpeedPrefab,this.PointSkill_1_MAXPrefab),n=cc.instantiate(i[e]);n.parent=this.Canvas,n.x=this.Player.getPosition().x,n.y=this.Player.getPosition().y,n.getComponent("PointControl").target=t.getChildByName("1")},upRotationSpeed:function(){this.RotationSpeedUI+=1,this.BulletScaleUI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(0,this.label_RotationSpeed.node)},upShootSpeed:function(){this.ShootSpeedUI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(1,this.label_ShootSpeed.node)},upBulletSpeed:function(){this.BulletSpeedUI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(2,this.label_BulletSpeed.node)},upBulletLifeTime:function(){this.BulletLifeTimeUI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(3,this.label_BulletLifeTime.node)},upPlayerSpeed:function(){this.PlayerSpeed2UI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(4,this.label_PlayerSpeed.node)},upSkill_1_MAX:function(){this.Skill_1_Max+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(5,this.label_Skill_1_Time.node)},GetShield:function(){this.Score+=1,this.UpdateData(),this.SwapItem()},Skill_1_Start:function(){this.GamePause||this.Skill_1_Type==n.ActiveSkillType.Bomb&&(3<=this.Skill_1_Time?(this.Player.getComponent("PlayerControl").UseBomb(),this.Skill_1_Time-=3,this.UpdateData()):this.PlayerPowerFlash(3))},PlayerPowerFlash:function(e){0<e&&(this.label_Skill_1_Time.node.color=new cc.color(245,62,62),this.scheduleOnce(function(){this.PlayerPowerFlashEnd(e)},.2))},PlayerPowerFlashEnd:function(e){this.label_Skill_1_Time.node.color=new cc.color(255,255,255),this.scheduleOnce(function(){this.PlayerPowerFlash(e-1)},.2)},OnPressLabel:function(e){this.CanClick&&0==e&&(this.MainMenuUI.active=!1,this.UpdateLogUI.active=!0)},OnPressGameGuide:function(){this.CanClick&&(this.MainMenuUI.active=!1,this.GuideUI.active=!0,this.GuideUI.getComponent("GuideUIControl").Init())},OnPressGameStart:function(){this.CanClick&&(this.MainMenuUI.active=!1,this.ChooseActiveSkill())},OnPressGameRank:function(){this.CanClick&&(this.GameRankUI.active=!0,this.SubmitScore(),this.GameRankUI.getComponent("GameRankControl").GetFirendRank(),this.CanClick=!1)},SubmitScore:function(){null==this.Score&&(this.Score=0);new Date;cc.log("提交得分:Score:"+this.Score)}}),cc._RF.pop()},{GameCommon:"GameCommon"}],GameOverUIControl:[function(e,t,i){"use strict";cc._RF.push(t,"3fe892AVrBHCbPWuNjiha/o","GameOverUIControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},TouchOnce:{default:null,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this.TouchOnce=!1},Retry:function(){this.GameManager.getComponent("GameManager").CanClick&&(this.GameManager.getComponent("GameManager").ChooseActiveSkill(),this.node.active=!1)},BackToMenu:function(){this.GameManager.getComponent("GameManager").CanClick&&(this.GameManager.getComponent("GameManager").GameAreaUI.active=!1,this.GameManager.getComponent("GameManager").MainMenuUI.active=!0,this.node.active=!1)}}),cc._RF.pop()},{}],GameRankControl:[function(e,t,i){"use strict";cc._RF.push(t,"8f723Faq5pPHqB27dcRxfbR","GameRankControl"),cc.Class({extends:cc.Component,properties:{rankingScrollView:cc.Sprite},start:function(){0},GetFirendRank:function(){cc.log("获取好友排行榜数据。Score")},_updateSubDomainCanvas:function(){null!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.rankingScrollView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(){this._updateSubDomainCanvas()}}),cc._RF.pop()},{}],GuideUIControl:[function(e,t,i){"use strict";cc._RF.push(t,"b1e4cp1+4dBmYDthlWf4+Ah","GuideUIControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Step1:{default:null,type:cc.Node},Step2:{default:null,type:cc.Node},Step3:{default:null,type:cc.Node},Step4:{default:null,type:cc.Node},Pre:{default:null,type:cc.Node},Next:{default:null,type:cc.Node},CurrentStep:{default:null,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager")},Init:function(){this.Step1.active=!0,this.Step2.active=!1,this.Step3.active=!1,this.Step4.active=!1,this.Pre.active=!1,this.Next.active=!0,this.CurrentStep=1},NextStep:function(){return 1==this.CurrentStep?(this.CurrentStep++,this.Pre.active=!0,this.Step2.active=!0,void(this.Step1.active=!1)):2==this.CurrentStep?(this.CurrentStep++,this.Step3.active=!0,void(this.Step2.active=!1)):3==this.CurrentStep?(this.CurrentStep++,this.Next.active=!1,this.Step4.active=!0,void(this.Step3.active=!1)):void 0},PreStep:function(){return cc.log(this.CurrentStep),2==this.CurrentStep?(this.CurrentStep--,this.Pre.active=!1,this.Step1.active=!0,void(this.Step2.active=!1)):3==this.CurrentStep?(this.CurrentStep--,this.Step2.active=!0,void(this.Step3.active=!1)):4==this.CurrentStep?(this.CurrentStep--,this.Next.active=!0,this.Step3.active=!0,void(this.Step4.active=!1)):void 0}}),cc._RF.pop()},{}],HelloWorld:[function(e,t,i){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(e){}}),cc._RF.pop()},{}],Item:[function(e,t,i){"use strict";cc._RF.push(t,"6b8918x1NFBE7e2NZ3BZFJT","Item");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Type:{default:n.ItemType.upRotationSpeed,type:n.ItemType,displayName:"类型"},LifeTime:{default:null,visible:!1},laberTimer:{default:null,type:cc.Label}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Type<n.ItemType.upPlayerSpeed?this.LifeTime=this.GameManager.getComponent("GameManager").ItemLifeTime1:this.LifeTime=this.GameManager.getComponent("GameManager").ItemLifeTime2,0==this.LifeTime?this.laberTimer.string="":this.laberTimer.string=this.LifeTime.toString(),this.OnMove=!1},update:function(e){0<this.LifeTime&&!this.GameManager.getComponent("GameManager").GamePause&&(this.LifeTime-=e*this.GameManager.getComponent("GameManager").GameSpeed,this.LifeTime<0?(this.Type<n.ItemType.upPlayerSpeed?this.GameManager.getComponent("GameManager").SwapBadItem():this.GameManager.getComponent("GameManager").SwapGoodItem(),this.node.destroy()):this.laberTimer.string=Math.floor(this.LifeTime).toString())}}),cc._RF.pop()},{GameCommon:"GameCommon"}],JoyControl:[function(e,t,i){"use strict";cc._RF.push(t,"c7eb7YpQDREyJhmxZvhHdpP","JoyControl");var n=e("GameCommon"),a=e("JoystickBG");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},dot:{default:null,type:cc.Node,displayName:"摇杆节点"},ring:{default:null,type:a,displayName:"摇杆背景节点"},stickX:{default:0,displayName:"摇杆X位置"},stickY:{default:0,displayName:"摇杆Y位置"},touchType:{default:n.TouchType.DEFAULT,type:n.TouchType,displayName:"触摸类型"},directionType:{default:n.DirectionType.ALL,type:n.DirectionType,displayName:"方向类型"},sprite:{default:null,type:cc.Node,displayName:"操控的目标"},_stickPos:{default:null,type:cc.Node,displayName:"摇杆当前位置"},_touchLocation:{default:null,type:cc.Node,displayName:"摇杆当前位置"}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this._createStickSprite(),this.touchType==n.TouchType.FOLLOW&&this._initTouchEvent()},_createStickSprite:function(){this.ring.node.setPosition(this.stickX,this.stickY),this.dot.setPosition(this.stickX,this.stickY)},_initTouchEvent:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,e._touchStartEvent,e),e.node.on(cc.Node.EventType.TOUCH_MOVE,e._touchMoveEvent,e),e.node.on(cc.Node.EventType.TOUCH_END,e._touchEndEvent,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e._touchEndEvent,e)},_touchStartEvent:function(e){this._touchLocation=e.getLocation();var t=this.node.convertToNodeSpaceAR(e.getLocation());this.ring.node.setPosition(t),this.dot.setPosition(t),this._stickPos=t},_touchMoveEvent:function(e){if(this._touchLocation.x==e.getLocation().x&&this._touchLocation.y==e.getLocation().y)return!1;var t=this.ring.node.convertToNodeSpaceAR(e.getLocation()),i=this.ring._getDistance(t,cc.p(0,0)),n=this.ring.node.width/2,a=this._stickPos.x+t.x,o=this._stickPos.y+t.y;if(i<n)this.dot.setPosition(cc.p(a,o));else{var c=this._stickPos.x+Math.cos(this.ring._getRadian(cc.p(a,o)))*n,s=this._stickPos.y+Math.sin(this.ring._getRadian(cc.p(a,o)))*n;this.dot.setPosition(cc.p(c,s))}this.ring._getAngle(cc.p(a,o)),this.ring._setSpeed(cc.p(a,o))},_touchEndEvent:function(){this.dot.setPosition(this.ring.node.getPosition()),this.ring._speed=0,this._createStickSprite()}}),cc._RF.pop()},{GameCommon:"GameCommon",JoystickBG:"JoystickBG"}],JoystickBG:[function(e,t,i){"use strict";cc._RF.push(t,"fca20lt3RxA0YBxOZw7L6ZX","JoystickBG");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},dot:{default:null,type:cc.Node,displayName:"摇杆节点"},_joyCom:{default:null,displayName:"joy Node"},_playerNode:{default:null,type:cc.Node,displayName:"被操作的目标Node"},_angle:{default:null,displayName:"当前触摸的角度"},_radian:{default:null,displayName:"弧度"},radius:{default:30,displayName:"变速距离"},_speed:0,_opacity:0},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this._joyCom=this.node.parent.getComponent("JoyControl"),this._playerNode=this._joyCom.sprite,this._joyCom.touchType==n.TouchType.DEFAULT&&this._initTouchEvent()},_initTouchEvent:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,e),e.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,e),e.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,e)},update:function(e){switch(this._joyCom.directionType){case n.DirectionType.ALL:this._allDirectionsMove()}},_allDirectionsMove:function(){if(this.GameManager.getComponent("GameManager").GamePause?this._playerNode.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0):this._playerNode.getComponent(cc.RigidBody).linearVelocity=cc.v2(Math.cos(this._angle*(Math.PI/180))*this._speed*5,Math.sin(this._angle*(Math.PI/180))*this._speed*5),1==this.GameManager.getComponent("Keyboard").Input){var e=this.GameManager.getComponent("Keyboard").Angle;this._speed2=this.GameManager.getComponent("GameManager").PlayerSpeed2;var t=cc.v2(Math.cos(e*(Math.PI/180))*this._speed2*5,Math.sin(e*(Math.PI/180))*this._speed2*5);this.GameManager.getComponent("GameManager").GamePause?this._playerNode.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0):this._playerNode.getComponent(cc.RigidBody).linearVelocity=t}},_getDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},_getRadian:function(e){return this._radian=Math.PI/180*this._getAngle(e),this._radian},_getAngle:function(e){var t=this.node.getPosition();return this._angle=Math.atan2(e.y-t.y,e.x-t.x)*(180/Math.PI),this._angle},_setSpeed:function(e){var t=this._getDistance(e,this.node.getPosition());this._speed1=this.GameManager.getComponent("GameManager").PlayerSpeed1,this._speed2=this.GameManager.getComponent("GameManager").PlayerSpeed2,t<this.radius?this._speed=this._speed1:this._speed=this._speed2},_touchStartEvent:function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation()),i=this._getDistance(t,cc.p(0,0)),n=this.node.width/2;this._stickPos=t;var a=this.node.getPosition().x+t.x,o=this.node.getPosition().y+t.y;return i<n&&(this.dot.setPosition(cc.p(a,o)),!0)},_touchMoveEvent:function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation()),i=this._getDistance(t,cc.p(0,0)),n=this.node.width/2,a=this.node.getPosition().x+t.x,o=this.node.getPosition().y+t.y;if(i<n)this.dot.setPosition(cc.p(a,o));else{var c=this.node.getPosition().x+Math.cos(this._getRadian(cc.p(a,o)))*n,s=this.node.getPosition().y+Math.sin(this._getRadian(cc.p(a,o)))*n;this.dot.setPosition(cc.p(c,s))}this._getAngle(cc.p(a,o)),this._setSpeed(cc.p(a,o))},_touchEndEvent:function(){this.dot.setPosition(this.node.getPosition()),this._speed=0}}),cc._RF.pop()},{GameCommon:"GameCommon"}],Keyboard:[function(e,t,i){"use strict";cc._RF.push(t,"39508H39lZOY7c+EK4ocXWs","Keyboard"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Input:{default:null,visible:!1},Up:{default:null,visible:!1},Right:{default:null,visible:!1},Angle:{default:null,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Input=!1,this.Right=0,this.Up=0,this.setInputControl()},setInputControl:function(){var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){switch(e.keyCode){case cc.KEY.up:t.Up=1;break;case cc.KEY.down:t.Up=-1;break;case cc.KEY.left:t.Right=-1;break;case cc.KEY.right:t.Right=1;break;case cc.KEY.space:t.getComponent("GameManager").Skill_1_On=!0}t.Angle=Math.atan2(t.Up,t.Right)*(180/Math.PI),0==t.Up&&0==t.Right?t.Input=!1:t.Input=!0}),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.down:t.Up=0;break;case cc.KEY.left:case cc.KEY.right:t.Right=0;break;case cc.KEY.space:t.getComponent("GameManager").Skill_1_On=!1}t.Angle=Math.atan2(t.Up,t.Right)*(180/Math.PI),0==t.Up&&0==t.Right?t.Input=!1:t.Input=!0})}}),cc._RF.pop()},{}],OneActiveSkill:[function(e,t,i){"use strict";cc._RF.push(t,"ef339LhLdlE67dxAy0j87TL","OneActiveSkill");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},ChooseActiveSkill:{default:null,type:cc.Node,visible:!1},Type:{default:n.ActiveSkillType.SlowTime,type:n.ActiveSkillType,displayName:"类型"},Choosed:{default:null,type:cc.Node,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.ChooseActiveSkill=cc.find("Canvas/ChooseActiveSkill"),this.Choosed=this.node.getChildByName("Choosed"),this.Choosed.active=!1,this._initTouchEvent()},start:function(){},_initTouchEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this)},_touchStartEvent:function(e){this.ChooseActiveSkill.getComponent("ChooseActiveSkill").ChooseSkill(this.Type)}}),cc._RF.pop()},{GameCommon:"GameCommon"}],PlayerControl:[function(e,t,i){"use strict";cc._RF.push(t,"f3ad8zyiV5M3KO2vpto1Krk","PlayerControl");var a=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Picture:{default:null,type:cc.Node},DiePicture:{default:null,type:cc.Node},Shield:{default:null,type:cc.Node},HaveShield:{default:null,visible:!1},Bomb:{default:null,type:cc.Node},ItemLock:{default:null,visible:!1},BulletLock:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager")},start:function(){},GameInit:function(){this.ItemLock=!1,this.BulletLock=!1,this.HaveShield=!1,this.node.getComponent(cc.RigidBody).angularVelocity=0,this.node.rotation=0,this.Bomb.active=!1,this.Shield.active=!1,this.Picture.active=!0,this.DiePicture.active=!1},update:function(e){},UnlockItemLock:function(){this.ItemLock=!1},UnlockBulletLock:function(){this.BulletLock=!1},GetShield:function(){this.Shield.active=!0,this.HaveShield=!0},LoseShield:function(){this.Shield.getComponent("ShieldControl").Timer=.3,this.HaveShield=!1},UseBomb:function(){this.Bomb.active=!0,this.Bomb.getComponent("BombControl").Timer=.2},Die:function(){this.Picture.active=!1,this.DiePicture.active=!0,this.DiePicture.getComponent("DieAction").LetDie()},onPreSolve:function(e,t,i){if(!this.GameManager.getComponent("GameManager").GamePause&&("Bullet"==i.node.name&&(this.HaveShield?(this.LoseShield(),i.node.destroy(),this.BulletLock=!0,this.scheduleOnce(function(){this.UnlockBulletLock()},.2)):this.BulletLock||(i.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.node.getComponent(cc.RigidBody).angularVelocity=500,this.GameManager.getComponent("GameManager").GameOver())),null!=i.node.getComponent("Item"))){if(this.ItemLock)return;this.ItemLock=!0,this.scheduleOnce(function(){this.UnlockItemLock()},.1),i.node.destroy();var n=i.node.getComponent("Item");n.Type==a.ItemType.upRotationSpeed&&this.GameManager.getComponent("GameManager").upRotationSpeed(),n.Type==a.ItemType.upShootSpeed&&this.GameManager.getComponent("GameManager").upShootSpeed(),n.Type==a.ItemType.upBulletSpeed&&this.GameManager.getComponent("GameManager").upBulletSpeed(),n.Type==a.ItemType.upBulletLifeTime&&this.GameManager.getComponent("GameManager").upBulletLifeTime(),n.Type==a.ItemType.upPlayerSpeed&&this.GameManager.getComponent("GameManager").upPlayerSpeed(),n.Type==a.ItemType.upSkill_1_MAX&&this.GameManager.getComponent("GameManager").upSkill_1_MAX(),n.Type==a.ItemType.GetShield&&(cc.log(1),this.GetShield(),this.GameManager.getComponent("GameManager").GetShield())}}}),cc._RF.pop()},{GameCommon:"GameCommon"}],PointControl:[function(e,t,i){"use strict";cc._RF.push(t,"32e2aQSfAhELoaN6yaYfovn","PointControl"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},targetPos:{default:null,visible:!1}},start:function(){this.targetPos=this.target.getPosition(),this.targetPos.x+=this.target.parent.getPosition().x,this.targetPos.y+=this.target.parent.getPosition().y;var e=this.node.getPosition(),t=Math.atan2(this.targetPos.y-e.y,this.targetPos.x-e.x);this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(800*Math.cos(t),800*Math.sin(t))},update:function(e){cc.pDistance(this.node.position,this.targetPos)<10&&this.node.destroy()}}),cc._RF.pop()},{}],PressLabel:[function(e,t,i){"use strict";cc._RF.push(t,"f1184nu9NBGNZqAhBF120GB","PressLabel");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Type:{default:n.LabelType.UpdateLog,type:n.LabelType,displayName:"类型"}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this._initTouchEvent()},_initTouchEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this)},_touchStartEvent:function(e){this.GameManager.getComponent("GameManager").OnPressLabel(this.Type)}}),cc._RF.pop()},{GameCommon:"GameCommon"}],ShieldControl:[function(e,t,i){"use strict";cc._RF.push(t,"ee69bfL4ZFE8LFdNz25PeIq","ShieldControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Timer:{default:null,visible:!1},Timer2:{default:null,visible:!1},LoseShield:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Timer=-1,this.Timer2=-1,this.LoseShield=!1,cc.director.getCollisionManager().enabled=!0},update:function(e){if(0<this.Timer){this.LoseShield=!0,this.Timer-=e;var t=this.node.scale;this.node.scale=cc.v2(t+50*e,t+50*e),this.Timer<=0&&(this.Timer2=.1)}0<this.Timer2&&(this.Timer2-=e,this.Timer2<=0&&(this.node.active=!1,this.node.scale=cc.v2(1,1),this.LoseShield=!1))},onCollisionEnter:function(e,t){this.GameManager.getComponent("GameManager").GamePause||"Bullet"==e.node.name&&this.LoseShield&&e.node.destroy()}}),cc._RF.pop()},{}],SkillButton:[function(e,t,i){"use strict";cc._RF.push(t,"b9721mSS1JPuZRtrwo8xejy","SkillButton"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this._initTouchEvent()},_initTouchEvent:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,e),e.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,e)},_touchStartEvent:function(){this.GameManager.getComponent("GameManager").Skill_1_On=!0,this.GameManager.getComponent("GameManager").Skill_1_Start()},_touchEndEvent:function(){this.GameManager.getComponent("GameManager").Skill_1_On=!1}}),cc._RF.pop()},{}],TurretControl:[function(e,t,i){"use strict";cc._RF.push(t,"dfdeckAElVHAIkJX5f1Sh8/","TurretControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},BulletPrefab:{default:null,type:cc.Prefab},ShootTimer:{default:null,visible:!1},BulletParent:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.ShootTimer=999},start:function(){},GameInit:function(){this.BulletParent=new cc.Node("BulletParent"),this.BulletParent.parent=this.node,this.BulletParent.x=0,this.BulletParent.y=0,this.CreateBullet()},GameReset:function(){this.BulletParent.destroy()},update:function(e){var t=this.GameManager.getComponent("GameManager").RotationSpeed;t*=this.GameManager.getComponent("GameManager").GameSpeed,this.node.rotation+=e*t,this.ShootTimer-=e*this.GameManager.getComponent("GameManager").GameSpeed,this.ShootTimer<=0&&this.CreateBullet()},CreateBullet:function(){var e=cc.instantiate(this.BulletPrefab);e.x=0,e.y=0,e.parent=this.BulletParent;var t=this.GameManager.getComponent("GameManager").BulletSpeed;e.getComponent(cc.RigidBody).linearVelocity=cc.v2(cc.pForAngle(this.node.rotation*Math.PI/180).y*t,cc.pForAngle(this.node.rotation*Math.PI/180).x*t);var i=this.GameManager.getComponent("GameManager").BulletScale;e.scale=cc.v2(i,i);var n=this.GameManager.getComponent("GameManager").ShootSpeed;this.ShootTimer=n}}),cc._RF.pop()},{}],UIcontrol:[function(e,t,i){"use strict";cc._RF.push(t,"576f887/9tNDqDmp/6W/YeI","UIcontrol"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager")},OnPressBcakToMenue:function(){this.GameManager.getComponent("GameManager").MainMenuUI.active=!0,this.node.active=!1},OnPressClose:function(){this.node.active=!1,this.GameManager.getComponent("GameManager").CanClick=!0}}),cc._RF.pop()},{}]},{},["BombControl","BulletControl","ChooseActiveSkill","DeviceMotionControl","DieAction","GameCommon","GameManager","GameOverUIControl","GameRankControl","GuideUIControl","Item","JoyControl","JoystickBG","Keyboard","OneActiveSkill","PlayerControl","PointControl","PressLabel","ShieldControl","SkillButton","HelloWorld","TurretControl","UIcontrol"]);