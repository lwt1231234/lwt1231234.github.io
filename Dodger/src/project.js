require=function o(s,l,c){function h(t,e){if(!l[t]){if(!s[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(r)return r(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=l[t]={exports:{}};s[t][0].call(a.exports,function(e){return h(s[t][1][e]||e)},a,a.exports,o,s,l,c)}return l[t].exports}for(var r="function"==typeof require&&require,e=0;e<c.length;e++)h(c[e]);return h}({BombControl:[function(e,t,i){"use strict";cc._RF.push(t,"f006dOI6iNHNLyrR417s9wV","BombControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Timer:{default:null,visible:!1},Timer2:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Timer=-1,this.Timer2=-1,cc.director.getCollisionManager().enabled=!0},update:function(e){if(0<this.Timer){this.Timer-=e;var t=this.node.scale;this.node.scale=cc.v2(t+150*e,t+150*e),this.Timer<=0&&(this.Timer2=.1)}0<this.Timer2&&(this.Timer2-=e,this.Timer2<=0&&(this.node.active=!1,this.node.scale=cc.v2(1,1)))},onCollisionEnter:function(e,t){this.GameManager.getComponent("GameManager").GamePause||"Bullet"==e.node.name&&e.node.destroy()}}),cc._RF.pop()},{}],BulletControl:[function(e,t,i){"use strict";cc._RF.push(t,"8e45ceGcldKVbfIk1i5rKq7","BulletControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node},BulletSpeed:{default:null,visible:!1},GameSpeed:{default:null,visible:!1},Angle:{default:null,visible:!1},Enlargex:{default:null,visible:!1},Enlargey:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Player=cc.find("Canvas/GameArea/Player"),this.BulletLifeTime=this.GameManager.getComponent("GameManager").BulletLifeTime,this.Enlargex=!1,this.Enlargey=!1,this.Used=!1},start:function(){},TImeOut:function(){this.node.destroy()},update:function(e){this.BulletLifeTime-=e,this.BulletLifeTime<=0&&0<this.GameManager.getComponent("GameManager").GameSpeed&&this.node.destroy();var t=1;if(this.GameManager.getComponent("GameManager").GamePause)t=0;else if(this.GameManager.getComponent("GameManager").Skill_1_Active){var i=this.Player.getPosition().x-this.node.x,n=this.Player.getPosition().y-this.node.y,a=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));a<1&&(t=0,this.BulletLifeTime-=e),1<=a&&a<700&&(t=(a-1)/699,this.BulletLifeTime-=e),700<=a&&(t=1)}else t=this.GameManager.getComponent("GameManager").GameSpeed;if(t!=this.GameSpeed){var o=this.node.getComponent(cc.RigidBody).linearVelocity.x,s=this.node.getComponent(cc.RigidBody).linearVelocity.y;0==t&&(this.Angle=Math.atan2(s,o)),0==this.GameSpeed?(o=Math.cos(this.Angle)*this.BulletSpeed,s=Math.sin(this.Angle)*this.BulletSpeed):(this.Angle=Math.atan2(s,o),o/=this.GameSpeed,s/=this.GameSpeed),o*=t,s*=t,this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(o,s),this.GameSpeed=t}},onBeginContact:function(e,t,i){if("Player"!=i.node.name){var n=this.node.getComponent(cc.RigidBody).linearVelocity.x;n<33&&0<=n&&(n+=35,this.Enlargex=!0),-33<n&&n<=0&&(n-=35,this.Enlargex=!0);var a=this.node.getComponent(cc.RigidBody).linearVelocity.y;a<33&&0<=a&&(a+=35,this.Enlargey=!0),-33<a&&a<=0&&(a-=35,this.Enlargey=!0),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(n,a)}else this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0)},onEndContact:function(e,t,i){if("Player"!=i.node.name){var n=this.node.getComponent(cc.RigidBody).linearVelocity.x;this.Enlargex&&(0<n?n-=35:n+=35,this.Enlargex=!1);var a=this.node.getComponent(cc.RigidBody).linearVelocity.y;this.Enlargey&&(0<a?a-=35:a+=35,this.Enlargey=!1),this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(n,a)}else this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0)}}),cc._RF.pop()},{}],ChooseSkill:[function(e,t,i){"use strict";cc._RF.push(t,"085b9tW1Y1GnIcqObTUWGcc","ChooseSkill");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},SkillType:{default:n.SkillType.Active,type:n.SkillType,displayName:"类型"},SkillNum:{default:2,displayName:"数量"}},onLoad:function(){},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this.SkillList=new Array(this.SkillNum),this.SkillList[0]=this.node.getChildByName("view").getChildByName("content").getChildByName("Skill0"),this.SkillList[1]=this.node.getChildByName("view").getChildByName("content").getChildByName("Skill1"),this.SkillList[2]=this.node.getChildByName("view").getChildByName("content").getChildByName("Skill2"),this.SkillType==n.SkillType.Active&&null==this.GameManager.getComponent("GameManager").Skill_1_Type&&(this.GameManager.getComponent("GameManager").Skill_1_Type=0,this.SkillList[0].getComponent("OneSkill").Choosed.active=!0),this.SkillType==n.SkillType.Passive&&null==this.GameManager.getComponent("GameManager").Skill_2_Type&&(this.GameManager.getComponent("GameManager").Skill_2_Type=1,this.SkillList[1].getComponent("OneSkill").Choosed.active=!0)},ChooseSkill:function(e){var t;for(this.SkillType==n.SkillType.Active&&(this.GameManager.getComponent("GameManager").Skill_1_Type=e),this.SkillType==n.SkillType.Passive&&(this.GameManager.getComponent("GameManager").Skill_2_Type=e),t=0;t<this.SkillNum;t++)this.SkillList[t].getComponent("OneSkill").Choosed.active=t==e}}),cc._RF.pop()},{GameCommon:"GameCommon"}],DeviceMotionControl:[function(e,t,i){"use strict";cc._RF.push(t,"e9ca47Nw6BI1LN/gS8NBKWj","DeviceMotionControl"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},_acc:cc.p(0,0),init:cc.p(0,0),label:{default:null,type:cc.Label},label2:{default:null,type:cc.Label},label3:{default:null,type:cc.Label}},start:function(){this.InUse=!1,this.GameManager=cc.find("Canvas/GameManager")},Prepare:function(){},GameInit:function(){this.init.x=0,this.init.y=this._acc.y,this.initAngle=0,this.Angle=0}}),cc._RF.pop()},{}],DieAction:[function(e,t,i){"use strict";cc._RF.push(t,"48ea49YzyRP95cCNOjWmVte","DieAction");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{Type:{default:n.DieActionType.Up,type:n.DieActionType,displayName:"类型"},Die1:{default:null,type:cc.Node},Die2:{default:null,type:cc.Node},Die3:{default:null,type:cc.Node},Die4:{default:null,type:cc.Node}},start:function(){},LetDie:function(){this.Die1.active=!0,this.Die1.getComponent("DieAction").Die(),this.Die2.active=!0,this.Die2.getComponent("DieAction").Die(),this.Die3.active=!0,this.Die3.getComponent("DieAction").Die(),this.Die4.active=!0,this.Die4.getComponent("DieAction").Die()},Die:function(){this.node.setPosition(0,0),0==this.Type&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(100,0)),1==this.Type&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(-100,0)),2==this.Type&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,100)),3==this.Type&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-100)),this.scheduleOnce(function(){this.node.active=!1},2)}}),cc._RF.pop()},{GameCommon:"GameCommon"}],EnergyBarControl:[function(e,t,i){"use strict";cc._RF.push(t,"22cf52e1FxDkZZYtlnI2ewd","EnergyBarControl"),cc.Class({extends:cc.Component,properties:{EnergyNow:{default:null,type:cc.Node},Label:{default:null,type:cc.Label}},start:function(){},UpdateData:function(e,t){var i=50*e/t;this.EnergyNow.width=i;var n=Math.floor(e).toString();this.Label.string=n},EnergyBarFlash:function(e){0<e&&(this.EnergyNow.color=new cc.color(245,62,62),this.Label.node.color=new cc.color(245,62,62),this.scheduleOnce(function(){this.EnergyBarFlashEnd(e)},.2))},EnergyBarFlashEnd:function(e){this.EnergyNow.color=new cc.color(128,227,255),this.Label.node.color=new cc.color(255,255,255),this.scheduleOnce(function(){this.EnergyBarFlash(e-1)},.2)}}),cc._RF.pop()},{}],GameCommon:[function(e,t,i){"use strict";cc._RF.push(t,"491315VcR5Ik77hV2DK5Oad","GameCommon"),t.exports={TouchType:cc.Enum({DEFAULT:0,FOLLOW:1}),DirectionType:cc.Enum({FOUR:4,EIGHT:8,ALL:0}),ItemType:cc.Enum({upRotationSpeed:0,upShootSpeed:1,upBulletSpeed:2,upBulletLifeTime:3,upPlayerSpeed:4,upSkill_1_MAX:5,GetShield:6}),SkillType:cc.Enum({Active:0,Passive:1}),ActiveSkillNum:cc.Enum({SlowTime:0,Bomb:1}),PassiveSkillNum:cc.Enum({Magnet:0,Reborn:1}),LabelType:cc.Enum({UpdateLog:0,Bomb:1}),DieActionType:cc.Enum({Up:0,Down:1,Left:2,Right:3}),MessageType:cc.Enum({RemoveData:0,SubmitData:1,RankFriend:2})},cc._RF.pop()},{}],GameManager:[function(e,t,i){"use strict";cc._RF.push(t,"b3132qQpsJFSYeIwvqZPTi4","GameManager");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{Canvas:{default:null,type:cc.Node},label_PlayerSpeed:{default:null,type:cc.Label},label_Skill_1_Name:{default:null,type:cc.Label},label_Skill_1_Time:{default:null,type:cc.Label},label_RotationSpeed:{default:null,type:cc.Label},label_ShootSpeed:{default:null,type:cc.Label},label_BulletSpeed:{default:null,type:cc.Label},label_BulletLifeTime:{default:null,type:cc.Label},label_Score:{default:null,type:cc.Label},label_GameOverScore:{default:null,type:cc.Label},Player:{default:null,type:cc.Node},Turret:{default:null,type:cc.Node},Block1:{default:null,type:cc.Node},Block2:{default:null,type:cc.Node},Block3:{default:null,type:cc.Node},Block4:{default:null,type:cc.Node},MainMenuUI:{default:null,type:cc.Node},GuideUI:{default:null,type:cc.Node},GameSetUI:{default:null,type:cc.Node},GameOverUI:{default:null,type:cc.Node},GameAreaUI:{default:null,type:cc.Node},GameRankUI:{default:null,type:cc.Node},UpdateLogUI:{default:null,type:cc.Node},JoyUI:{default:null,type:cc.Node},SkillButton1:{default:null,type:cc.Node},SkillButton2:{default:null,type:cc.Node},SkillButton3:{default:null,type:cc.Node},LevelNumUI:{default:null,type:cc.Label},UseEnergyBarUI:{default:null,type:cc.Toggle},upRotationSpeedPrefab:{default:null,type:cc.Prefab},upShootSpeedPrefab:{default:null,type:cc.Prefab},upBulletSpeedPrefab:{default:null,type:cc.Prefab},upBulletLifeTimePrefab:{default:null,type:cc.Prefab},upPlayerSpeedPrefab:{default:null,type:cc.Prefab},upSkill_1_MAXPrefab:{default:null,type:cc.Prefab},GetShieldPrefab:{default:null,type:cc.Prefab},PointRotationSpeedPrefab:{default:null,type:cc.Prefab},PointShootSpeedPrefab:{default:null,type:cc.Prefab},PointBulletSpeedPrefab:{default:null,type:cc.Prefab},PointBulletLifeTimePrefab:{default:null,type:cc.Prefab},PointPlayerSpeedPrefab:{default:null,type:cc.Prefab},PointSkill_1_MAXPrefab:{default:null,type:cc.Prefab}},onLoad:function(){this.physicsManager=cc.director.getPhysicsManager(),this.physicsManager.enabled=!0,this.GameSpeed=0,this.GamePause=!0,this.CanClick=!0,this.MainMenuUI.active=!0,this.GuideUI.active=!1,this.GameAreaUI.active=!1,this.GameSetUI.active=!1,this.GameOverUI.active=!1,this.GameRankUI.active=!1,this.UpdateLogUI.active=!1,this.SetPara()},SetPara:function(){this.ActiveSkill0Energy=1,this.ActiveSkill1Energy=5,this.ActiveSkill2Energy=5,this.PassiveSkill1Energy=3},ChooseActiveSkill:function(){this.GameAreaUI.active=!1,this.GameSetUI.active=!0,null==this.LevelNum?this.LevelNum=0:this.LevelNum=Math.floor(4*Math.random()),0==this.LevelNum&&(this.LevelNumUI.string="本次游戏难度倾向：平衡"),1==this.LevelNum&&(this.LevelNumUI.string="本次游戏难度倾向：炮台射速快"),2==this.LevelNum&&(this.LevelNumUI.string="本次游戏难度倾向：子弹速度快"),3==this.LevelNum&&(this.LevelNumUI.string="本次游戏难度倾向：子弹时间长")},GameInit:function(){this.GameAreaUI.active=!0,this.PlayerSpeed2UI=1,this.RotationSpeedUI=1,this.ShootSpeedUI=1,this.BulletSpeedUI=1,this.BulletLifeTimeUI=1,this.Skill_1_On=!1,this.Skill_1_Active=!1,this.Skill_1_Level=1,this.Skill_1_Time=10,this.Skill_1_Max=10,this.GameSpeed=1,this.PlayerSlow=1,this.Score=0,this.ItemNum=1,this.Player.x=-200,this.Player.y=0,this.GameSpeed=1,this.GamePause=!1,this.CanClick=!0,this.ItemLifeTime1=0,this.ItemLifeTime2=0,this.UpdateData(),this.SwapBadItem(),this.UseEnergyBar=this.UseEnergyBarUI.isChecked,this.UseJoy=!0,this.UseDevice=!1,this.UseTouch=!1,this.Turret.getComponent("TurretControl").GameInit(),this.Player.getComponent("PlayerControl").GameInit(),this.node.getComponent("DeviceMotionControl").GameInit(),this.UseJoy?(this.JoyUI.active=!0,this.SkillButton1.active=!0):(this.JoyUI.active=!1,this.SkillButton1.active=!1),this.UseDevice?this.SkillButton2.active=!0:this.SkillButton2.active=!1,this.UseTouch?this.SkillButton3.active=!0:this.SkillButton3.active=!1},GameOver:function(){this.GamePause=!0,this.scheduleOnce(function(){this.PlayerDead()},1)},PlayerDead:function(){this.Player.getComponent("PlayerControl").Die(),this.scheduleOnce(function(){this.GameReset()},1)},GameReset:function(){for(var e=this.node.children,t=0;t<this.node.childrenCount;t++)e[t].destroy();this.Turret.getComponent("TurretControl").GameReset(),this.GameOverUI.active=!0,this.label_GameOverScore.string="得分："+this.Score.toString(),this.GameRankUI.active=!0,this.SubmitScore(),this.GameRankUI.getComponent("GameRankControl").GetFirendRank(),this.CanClick=!1},start:function(){},update:function(e){if(this.GamePause)this.GameSpeed=0;else{var t=this.Player.getComponent(cc.RigidBody).linearVelocity;0<this.TheWorldTime&&(this.TheWorldTime-=e,this.TheWorldTime<=0&&(this.ResumeSpeed=!0,this.Player.getComponent("PlayerControl").TheWorldEnd())),0==t.x&&0==t.y?this.PlayerNotMove=!0:this.PlayerNotMove=!1,this.Skill_1_On||this.Skill_1_Time<this.Skill_1_Max&&(this.Skill_1_Time+=e/2*this.GameSpeed,this.UpdateData()),this.Skill_1_Type==n.ActiveSkillNum.SlowTime&&(this.Skill_1_On?0<this.Skill_1_Time?(this.Skill_1_Active=!0,this.GameSpeed=1,this.Skill_1_Time-=e*this.ActiveSkill0Energy,this.Skill_1_Time<0&&(this.Skill_1_Time=0),this.UpdateData()):(this.Skill_1_Active=!1,this.GameSpeed=1,this.Skill_1_Time=0):(this.Skill_1_Active=!1,this.GameSpeed=1)),2==this.Skill_1_Type&&1==this.ResumeSpeed&&(this.GameSpeed<1?this.GameSpeed+=e/2:this.ResumeSpeed=!1)}},UpdateData:function(){this.label_PlayerSpeed.string=this.PlayerSpeed2UI.toString(),this.label_RotationSpeed.string=this.RotationSpeedUI.toString(),this.label_ShootSpeed.string=this.ShootSpeedUI.toString(),this.label_BulletSpeed.string=this.BulletSpeedUI.toString(),this.label_BulletLifeTime.string=this.BulletLifeTimeUI.toString(),this.label_Score.string=this.Score.toString();var e=(Math.floor(10*this.Skill_1_Time)/10).toString();e.length<3&&(e+=".0"),this.label_Skill_1_Time.string=e,this.Player.getComponent("PlayerControl").EnergyBar.getComponent("EnergyBarControl").UpdateData(this.Skill_1_Time,this.Skill_1_Max),this.PlayerSpeed2=5*Math.log(this.PlayerSpeed2UI)+20,this.PlayerSpeed1=this.PlayerSpeed2,this.RotationSpeed=10+this.RotationSpeedUI,this.ShootSpeed=30/(15+this.ShootSpeedUI),this.BulletSpeed=200+2*this.BulletSpeedUI,this.BulletLifeTime=4+.5*this.BulletLifeTimeUI,this.BulletScale=20/(40+this.Score/5)+.2},_getARandomPositon:function(e,t,i){var n,a,o,s,l,c;l=null==t?20:t,c=null==i?1e3:i;for(var h=0;;){if(100<++h)return cc.log("too many random times"),cc.v2(o,s);if(n=Math.min(290,e.x+c),a=Math.max(-290,e.x-c),o=Math.random()*(n-a+1)+a,n=Math.min(290,e.y+c),a=Math.max(-290,e.y-c),s=Math.random()*(n-a+1)+a,!(this._getDistance(cc.v2(o,s),e)<l||this._getDistance(cc.v2(o,s),e)>c||this._getDistance(cc.v2(o,s),this.Block1.getPosition())<35||this._getDistance(cc.v2(o,s),this.Block2.getPosition())<35||this._getDistance(cc.v2(o,s),this.Block3.getPosition())<35||this._getDistance(cc.v2(o,s),this.Block4.getPosition())<35||this._getDistance(cc.v2(o,s),this.Turret.getPosition())<35||this._getDistance(cc.v2(o,s),this.Player.getPosition())<l))break}return cc.v2(o,s)},_getDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},SwapGoodItemSingle:function(e){var t=cc.instantiate(e),i=this._getARandomPositon(this.Player.getPosition(),200,300);t.parent=this.node,t.getComponent("Item").Init(i,null)},SwapGoodItem:function(){var e=new Array(this.upPlayerSpeedPrefab,this.upSkill_1_MAXPrefab,this.GetShieldPrefab),t=void 0,i=void 0;if(this.Player.getComponent("PlayerControl").HaveShield)t=cc.instantiate(e[0]),i=cc.instantiate(e[1]);else{t=cc.instantiate(this.GetShieldPrefab);var n=Math.floor(2*Math.random());i=cc.instantiate(e[n])}t.parent=this.node,i.parent=this.node;var a=this._getARandomPositon(this.Player.getPosition(),200,1e3),o=this._getARandomPositon(a,300,400);t.getComponent("Item").Init(a,i),i.getComponent("Item").Init(o,t)},SwapBadItem:function(){var e,t;this.Score<4?(e=new Array(this.upRotationSpeedPrefab,this.upShootSpeedPrefab,this.upBulletSpeedPrefab,this.upBulletLifeTimePrefab),t=this.Score):(0==this.LevelNum&&(e=new Array(this.upRotationSpeedPrefab,this.upShootSpeedPrefab,this.upBulletSpeedPrefab,this.upBulletLifeTimePrefab),t=Math.floor(4*Math.random())),1==this.LevelNum&&(e=new Array(this.upRotationSpeedPrefab,this.upShootSpeedPrefab,this.upShootSpeedPrefab,this.upShootSpeedPrefab,this.upBulletSpeedPrefab,this.upBulletLifeTimePrefab),t=Math.floor(6*Math.random())),2==this.LevelNum&&(e=new Array(this.upRotationSpeedPrefab,this.upShootSpeedPrefab,this.upBulletSpeedPrefab,this.upBulletSpeedPrefab,this.upBulletSpeedPrefab,this.upBulletLifeTimePrefab),t=Math.floor(6*Math.random())),3==this.LevelNum&&(e=new Array(this.upRotationSpeedPrefab,this.upShootSpeedPrefab,this.upBulletSpeedPrefab,this.upBulletLifeTimePrefab,this.upBulletLifeTimePrefab,this.upBulletLifeTimePrefab),t=Math.floor(6*Math.random()))),cc.log(t);var i=cc.instantiate(e[t]);i.parent=this.node;var n=void 0;0<=this.Score&&this.Score<5&&(n=this._getARandomPositon(this.Player.getPosition(),100,150)),5<=this.Score&&this.Score<15&&(n=this._getARandomPositon(this.Player.getPosition(),150,200)),15<=this.Score&&this.Score<25&&(n=this._getARandomPositon(this.Player.getPosition(),200,250)),25<=this.Score&&this.Score<35&&(n=this._getARandomPositon(this.Player.getPosition(),250,300)),35<=this.Score&&this.Score<50&&(n=this._getARandomPositon(this.Player.getPosition(),300,400)),50<=this.Score&&(n=this._getARandomPositon(this.Player.getPosition(),200,1e3)),i.x=n.x,i.y=n.y},SwapItem:function(){5!=this.ItemNum&&(5==this.Score&&this.SwapBadItem(),15==this.Score&&this.SwapBadItem(),30==this.Score&&this.SwapBadItem(),this.Score%5==0?5==this.Score?this.SwapGoodItemSingle(this.GetShieldPrefab):this.SwapGoodItem():this.SwapBadItem())},createPoint:function(e,t){var i=new Array(this.PointRotationSpeedPrefab,this.PointShootSpeedPrefab,this.PointBulletSpeedPrefab,this.PointBulletLifeTimePrefab,this.PointPlayerSpeedPrefab,this.PointSkill_1_MAXPrefab),n=cc.instantiate(i[e]);n.parent=this.Canvas,n.x=this.Player.getPosition().x,n.y=this.Player.getPosition().y,n.getComponent("PointControl").target=t.getChildByName("1")},upRotationSpeed:function(){this.RotationSpeedUI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(0,this.label_RotationSpeed.node)},upShootSpeed:function(){this.ShootSpeedUI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(1,this.label_ShootSpeed.node)},upBulletSpeed:function(){this.BulletSpeedUI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(2,this.label_BulletSpeed.node)},upBulletLifeTime:function(){this.BulletLifeTimeUI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(3,this.label_BulletLifeTime.node)},upPlayerSpeed:function(){this.PlayerSpeed2UI+=1,this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(4,this.label_PlayerSpeed.node)},upSkill_1_MAX:function(){this.Skill_1_Time+=5,this.Skill_1_Time>this.Skill_1_Max&&(this.Skill_1_Max+=2,this.Skill_1_Time=this.Skill_1_Max),this.Score+=1,this.UpdateData(),this.SwapItem(),this.createPoint(5,this.label_Skill_1_Time.node)},GetShield:function(){this.Score+=1,this.UpdateData(),this.SwapItem()},Skill_1_Start:function(){this.GamePause||(this.Skill_1_Type==n.ActiveSkillNum.Bomb&&(this.Skill_1_Time>=this.ActiveSkill1Energy?(this.Player.getComponent("PlayerControl").UseBomb(),this.Skill_1_Time-=this.ActiveSkill1Energy,this.UpdateData()):(this.PlayerPowerFlash(3),this.Player.getComponent("PlayerControl").EnergyBar.getComponent("EnergyBarControl").EnergyBarFlash(3))),2==this.Skill_1_Type&&(this.Skill_1_Time>=this.ActiveSkill2Energy?(this.Skill_1_Time-=this.ActiveSkill2Energy,this.UpdateData(),this.GameSpeed=0,this.ResumeSpeed=!1,this.Player.getComponent("PlayerControl").TheWorldStart(),this.TheWorldTime=3):(this.PlayerPowerFlash(3),this.Player.getComponent("PlayerControl").EnergyBar.getComponent("EnergyBarControl").EnergyBarFlash(3))))},PlayerPowerFlash:function(e){0<e&&(this.label_Skill_1_Time.node.color=new cc.color(245,62,62),this.scheduleOnce(function(){this.PlayerPowerFlashEnd(e)},.2))},PlayerPowerFlashEnd:function(e){this.label_Skill_1_Time.node.color=new cc.color(255,255,255),this.scheduleOnce(function(){this.PlayerPowerFlash(e-1)},.2)},OnPressLabel:function(e){this.CanClick&&0==e&&(this.MainMenuUI.active=!1,this.UpdateLogUI.active=!0)},OnPressGameGuide:function(){this.CanClick&&(this.MainMenuUI.active=!1,this.GuideUI.active=!0,this.GuideUI.getComponent("GuideUIControl").Init())},OnPressGameStart:function(){this.CanClick&&(this.MainMenuUI.active=!1,this.ChooseActiveSkill())},OnPressGameSettingOk:function(){null!=this.Skill_1_Type&&null!=this.Skill_2_Type&&(this.GameInit(),this.GameSetUI.active=!1)},OnPressGameRank:function(){this.CanClick&&(this.GameRankUI.active=!0,this.SubmitScore(),this.GameRankUI.getComponent("GameRankControl").GetFirendRank(),this.CanClick=!1)},OnPressShare:function(){window.wx.shareAppMessage()},SubmitScore:function(){null==this.Score&&(this.Score=0);new Date;cc.log("提交得分:Score:"+this.Score)}}),cc._RF.pop()},{GameCommon:"GameCommon"}],GameOverUIControl:[function(e,t,i){"use strict";cc._RF.push(t,"3fe892AVrBHCbPWuNjiha/o","GameOverUIControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},TouchOnce:{default:null,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this.TouchOnce=!1},Retry:function(){this.GameManager.getComponent("GameManager").CanClick&&(this.GameManager.getComponent("GameManager").ChooseActiveSkill(),this.node.active=!1)},BackToMenu:function(){this.GameManager.getComponent("GameManager").CanClick&&(this.GameManager.getComponent("GameManager").GameAreaUI.active=!1,this.GameManager.getComponent("GameManager").MainMenuUI.active=!0,this.node.active=!1)}}),cc._RF.pop()},{}],GameRankControl:[function(e,t,i){"use strict";cc._RF.push(t,"8f723Faq5pPHqB27dcRxfbR","GameRankControl"),cc.Class({extends:cc.Component,properties:{rankingScrollView:cc.Sprite},start:function(){0},GetFirendRank:function(){cc.log("获取好友排行榜数据。Score")},_updateSubDomainCanvas:function(){null!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.rankingScrollView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(){this._updateSubDomainCanvas()}}),cc._RF.pop()},{}],GuideUIControl:[function(e,t,i){"use strict";cc._RF.push(t,"b1e4cp1+4dBmYDthlWf4+Ah","GuideUIControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Step1:{default:null,type:cc.Node},Step2:{default:null,type:cc.Node},Step3:{default:null,type:cc.Node},Step4:{default:null,type:cc.Node},Step5:{default:null,type:cc.Node},Pre:{default:null,type:cc.Node},Next:{default:null,type:cc.Node},CurrentStep:{default:null,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager")},Init:function(){this.Step1.active=!0,this.Step2.active=!1,this.Step3.active=!1,this.Step4.active=!1,this.Step5.active=!1,this.Pre.active=!1,this.Next.active=!0,this.CurrentStep=1},NextStep:function(){return 1==this.CurrentStep?(this.CurrentStep++,this.Pre.active=!0,this.Step2.active=!0,void(this.Step1.active=!1)):2==this.CurrentStep?(this.CurrentStep++,this.Step3.active=!0,void(this.Step2.active=!1)):3==this.CurrentStep?(this.CurrentStep++,this.Step4.active=!0,void(this.Step3.active=!1)):4==this.CurrentStep?(this.CurrentStep++,this.Next.active=!1,this.Step5.active=!0,void(this.Step4.active=!1)):void 0},PreStep:function(){return cc.log(this.CurrentStep),2==this.CurrentStep?(this.CurrentStep--,this.Pre.active=!1,this.Step1.active=!0,void(this.Step2.active=!1)):3==this.CurrentStep?(this.CurrentStep--,this.Step2.active=!0,void(this.Step3.active=!1)):4==this.CurrentStep?(this.CurrentStep--,this.Step3.active=!0,void(this.Step4.active=!1)):5==this.CurrentStep?(this.CurrentStep--,this.Next.active=!0,this.Step4.active=!0,void(this.Step5.active=!1)):void 0}}),cc._RF.pop()},{}],HelloWorld:[function(e,t,i){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(e){}}),cc._RF.pop()},{}],Item:[function(e,t,i){"use strict";cc._RF.push(t,"6b8918x1NFBE7e2NZ3BZFJT","Item");var h=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Type:{default:h.ItemType.upRotationSpeed,type:h.ItemType,displayName:"类型"},LifeTime:{default:null,visible:!1},laberTimer:{default:null,type:cc.Label},PareItem:{default:null,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Player=cc.find("Canvas/GameArea/Player"),this.Type<h.ItemType.upPlayerSpeed?(this.LifeTime=this.GameManager.getComponent("GameManager").ItemLifeTime1,this.node.getComponent(cc.RigidBody).angularVelocity=0):(this.LifeTime=this.GameManager.getComponent("GameManager").ItemLifeTime2,this.node.getComponent(cc.RigidBody).angularVelocity=100),0==this.LifeTime?this.laberTimer.string="":this.laberTimer.string=this.LifeTime.toString(),this.OnMove=!1,this.Used=!1},Init:function(e,t){this.node.x=e.x,this.node.y=e.y,this.PareItem=t},Eaten:function(){null!=this.PareItem&&this.PareItem.destroy(),this.node.destroy()},update:function(e){if(this.GameManager.getComponent("GameManager").GamePause)this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0);else{var t=this.GameManager.getComponent("GameManager").GameSpeed;0<this.LifeTime&&(this.LifeTime-=e*t,this.LifeTime<0?(this.Type<h.ItemType.upPlayerSpeed?this.GameManager.getComponent("GameManager").SwapBadItem():this.GameManager.getComponent("GameManager").SwapGoodItem(),this.node.destroy()):this.laberTimer.string=Math.floor(this.LifeTime).toString());var i=this.Player.getPosition().x-this.node.getPosition().x,n=this.Player.getPosition().y-this.node.getPosition().y,a=Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),o=Math.atan2(n,i);if(this.GameManager.getComponent("GameManager").Skill_2_Type==h.PassiveSkillNum.Magnet)if(a<120){var s=200-a+5*this.GameManager.getComponent("GameManager").PlayerSpeed2;this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(Math.cos(o)*s,Math.sin(o)*s)}else this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0);else if(a<50){var l=100-a+5*this.GameManager.getComponent("GameManager").PlayerSpeed2*t;this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(Math.cos(o)*l,Math.sin(o)*l)}else if(2==this.GameManager.getComponent("GameManager").Skill_2_Type&&this.GameManager.getComponent("GameManager").PlayerNotMove){var c=50+1*this.GameManager.getComponent("GameManager").PlayerSpeed2;this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(Math.cos(o)*c,Math.sin(o)*c)}else this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0)}}}),cc._RF.pop()},{GameCommon:"GameCommon"}],JoyControl:[function(e,t,i){"use strict";cc._RF.push(t,"c7eb7YpQDREyJhmxZvhHdpP","JoyControl");var n=e("GameCommon"),a=e("JoystickBG");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},dot:{default:null,type:cc.Node,displayName:"摇杆节点"},ring:{default:null,type:a,displayName:"摇杆背景节点"},stickX:{default:0,displayName:"摇杆X位置"},stickY:{default:0,displayName:"摇杆Y位置"},touchType:{default:n.TouchType.DEFAULT,type:n.TouchType,displayName:"触摸类型"},directionType:{default:n.DirectionType.ALL,type:n.DirectionType,displayName:"方向类型"},sprite:{default:null,type:cc.Node,displayName:"操控的目标"},_stickPos:{default:null,type:cc.Node,displayName:"摇杆当前位置"},_touchLocation:{default:null,type:cc.Node,displayName:"摇杆当前位置"}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this._createStickSprite(),this.touchType==n.TouchType.FOLLOW&&this._initTouchEvent()},_createStickSprite:function(){this.ring.node.setPosition(this.stickX,this.stickY),this.dot.setPosition(this.stickX,this.stickY)},_initTouchEvent:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,e._touchStartEvent,e),e.node.on(cc.Node.EventType.TOUCH_MOVE,e._touchMoveEvent,e),e.node.on(cc.Node.EventType.TOUCH_END,e._touchEndEvent,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e._touchEndEvent,e)},_touchStartEvent:function(e){this._touchLocation=e.getLocation();var t=this.node.convertToNodeSpaceAR(e.getLocation());this.ring.node.setPosition(t),this.dot.setPosition(t),this._stickPos=t},_touchMoveEvent:function(e){if(this._touchLocation.x==e.getLocation().x&&this._touchLocation.y==e.getLocation().y)return!1;var t=this.ring.node.convertToNodeSpaceAR(e.getLocation()),i=this.ring._getDistance(t,cc.p(0,0)),n=this.ring.node.width/2,a=this._stickPos.x+t.x,o=this._stickPos.y+t.y;if(i<n)this.dot.setPosition(cc.p(a,o));else{var s=this._stickPos.x+Math.cos(this.ring._getRadian(cc.p(a,o)))*n,l=this._stickPos.y+Math.sin(this.ring._getRadian(cc.p(a,o)))*n;this.dot.setPosition(cc.p(s,l))}this.ring._getAngle(cc.p(a,o)),this.ring._setSpeed(cc.p(a,o))},_touchEndEvent:function(){this.dot.setPosition(this.ring.node.getPosition()),this.ring._speed=0,this._createStickSprite()}}),cc._RF.pop()},{GameCommon:"GameCommon",JoystickBG:"JoystickBG"}],JoystickBG:[function(e,t,i){"use strict";cc._RF.push(t,"fca20lt3RxA0YBxOZw7L6ZX","JoystickBG");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},dot:{default:null,type:cc.Node,displayName:"摇杆节点"},_joyCom:{default:null,displayName:"joy Node"},_playerNode:{default:null,type:cc.Node,displayName:"被操作的目标Node"},_angle:{default:null,displayName:"当前触摸的角度"},_radian:{default:null,displayName:"弧度"},radius:{default:30,displayName:"变速距离"},_speed:0,_opacity:0},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this._joyCom=this.node.parent.getComponent("JoyControl"),this._playerNode=this._joyCom.sprite,this._joyCom.touchType==n.TouchType.DEFAULT&&this._initTouchEvent()},_initTouchEvent:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,e),e.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,e),e.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,e)},update:function(e){switch(this._joyCom.directionType){case n.DirectionType.ALL:this._allDirectionsMove()}},_allDirectionsMove:function(){this._playerNode.getComponent("PlayerControl").JoyDev=cc.v2(Math.cos(this._angle*(Math.PI/180))*this._speed*5,Math.sin(this._angle*(Math.PI/180))*this._speed*5)},_getDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},_getRadian:function(e){return this._radian=Math.PI/180*this._getAngle(e),this._radian},_getAngle:function(e){var t=this.node.getPosition();return this._angle=Math.atan2(e.y-t.y,e.x-t.x)*(180/Math.PI),this._angle},_setSpeed:function(e){var t=this._getDistance(e,this.node.getPosition());this._speed1=this.GameManager.getComponent("GameManager").PlayerSpeed1,this._speed2=this.GameManager.getComponent("GameManager").PlayerSpeed2,t<this.radius?this._speed=this._speed1:this._speed=this._speed2},_touchStartEvent:function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation()),i=this._getDistance(t,cc.p(0,0)),n=this.node.width/2;this._stickPos=t;var a=this.node.getPosition().x+t.x,o=this.node.getPosition().y+t.y;return i<n&&(this.dot.setPosition(cc.p(a,o)),!0)},_touchMoveEvent:function(e){var t=this.node.convertToNodeSpaceAR(e.getLocation()),i=this._getDistance(t,cc.p(0,0)),n=this.node.width/2,a=this.node.getPosition().x+t.x,o=this.node.getPosition().y+t.y;if(i<n)this.dot.setPosition(cc.p(a,o));else{var s=this.node.getPosition().x+Math.cos(this._getRadian(cc.p(a,o)))*n,l=this.node.getPosition().y+Math.sin(this._getRadian(cc.p(a,o)))*n;this.dot.setPosition(cc.p(s,l))}this._getAngle(cc.p(a,o)),this._setSpeed(cc.p(a,o))},_touchEndEvent:function(){this.dot.setPosition(this.node.getPosition()),this._speed=0}}),cc._RF.pop()},{GameCommon:"GameCommon"}],Keyboard:[function(e,t,i){"use strict";cc._RF.push(t,"39508H39lZOY7c+EK4ocXWs","Keyboard"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Input:{default:null,visible:!1},Up:{default:null,visible:!1},Right:{default:null,visible:!1},Angle:{default:null,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Input=!1,this.Right=0,this.Up=0,this.setInputControl()},setInputControl:function(){var t=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){switch(e.keyCode){case cc.KEY.up:t.Up=1;break;case cc.KEY.down:t.Up=-1;break;case cc.KEY.left:t.Right=-1;break;case cc.KEY.right:t.Right=1;break;case cc.KEY.space:t.getComponent("GameManager").Skill_1_On=!0}t.Angle=Math.atan2(t.Up,t.Right)*(180/Math.PI),0==t.Up&&0==t.Right?t.Input=!1:t.Input=!0}),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.down:t.Up=0;break;case cc.KEY.left:case cc.KEY.right:t.Right=0;break;case cc.KEY.space:t.getComponent("GameManager").Skill_1_On=!1}t.Angle=Math.atan2(t.Up,t.Right)*(180/Math.PI),0==t.Up&&0==t.Right?t.Input=!1:t.Input=!0})}}),cc._RF.pop()},{}],OneSkill:[function(e,t,i){"use strict";cc._RF.push(t,"ef339LhLdlE67dxAy0j87TL","OneSkill");e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},ChooseSkill:{default:null,type:cc.Node},SkillNum:{default:0,displayName:"编号"},Choosed:{default:null,type:cc.Node,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Choosed=this.node.getChildByName("Choosed"),this.Choosed.active=!1,this._initTouchEvent()},start:function(){},_initTouchEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this)},_touchStartEvent:function(e){this.ChooseSkill.getComponent("ChooseSkill").ChooseSkill(this.SkillNum)}}),cc._RF.pop()},{GameCommon:"GameCommon"}],PlayerControl:[function(e,t,i){"use strict";cc._RF.push(t,"f3ad8zyiV5M3KO2vpto1Krk","PlayerControl");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Picture:{default:null,type:cc.Node},EnergyBar:{default:null,type:cc.Node},DiePicture:{default:null,type:cc.Node},Shield:{default:null,type:cc.Node},Reborn:{default:null,type:cc.Node},HaveShield:{default:null,visible:!1},Bomb:{default:null,type:cc.Node},TheWorld:{default:null,type:cc.Node},ItemLock:{default:null,visible:!1},BulletLock:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),cc.director.getCollisionManager().enabled=!0},start:function(){},GameInit:function(){this.ItemLock=!1,this.BulletLock=!1,this.HaveShield=!1,this.node.getComponent(cc.RigidBody).angularVelocity=0,this.node.rotation=0,this.Bomb.active=!1,this.Shield.active=!1,this.Picture.active=!0,this.DiePicture.active=!1,this.Reborn.active=!1,this.TheWorld.active=!1,1==this.GameManager.getComponent("GameManager").UseEnergyBar?this.EnergyBar.active=!0:this.EnergyBar.active=!1,this.JoyDev=cc.v2(0,0),this.DeviceDev=cc.v2(0,0),this.TouchDev=cc.v2(0,0)},DevCompare:function(e,t,i){return e.x==t&&e.y==i},update:function(e){if(this.GameManager.getComponent("GameManager").GamePause)this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0);else{if(this.DevCompare(this.JoyDev,0,0)&&this.DevCompare(this.DeviceDev,0,0)&&this.DevCompare(this.TouchDev,0,0))this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0);else{this.GameManager.getComponent("GameManager").GameSpeed;1,this.GameManager.getComponent("GameManager").UseJoy&&!this.DevCompare(this.JoyDev,0,0)&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(1*this.JoyDev.x,1*this.JoyDev.y)),this.GameManager.getComponent("GameManager").UseDevice&&!this.DevCompare(this.DeviceDev,0,0)&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(1*this.DeviceDev.x,1*this.DeviceDev.y)),this.GameManager.getComponent("GameManager").UseTouch&&!this.DevCompare(this.TouchDev,0,0)&&(this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(1*this.TouchDev.x,1*this.TouchDev.y))}if(1==this.TheWorldActive){var t=this.TheWorld.scale;this.TheWorld.scale=cc.v2(t+1500*e,t+1500*e)}if(-1==this.TheWorldActive){t=this.TheWorld.scale;this.TheWorld.scale=cc.v2(t-1500*e,t-1500*e)}}},UnlockItemLock:function(){this.ItemLock=!1},LockBulletLock:function(e){this.BulletLock=!0,this.scheduleOnce(function(){this.UnlockBulletLock()},e)},UnlockBulletLock:function(){this.BulletLock=!1},GetShield:function(){this.Shield.active=!0,this.HaveShield=!0},LoseShield:function(){this.Shield.getComponent("ShieldControl").Timer=.3,this.HaveShield=!1},UseBomb:function(){this.Bomb.active=!0,this.Bomb.getComponent("BombControl").Timer=.15},Die:function(){this.Picture.active=!1,this.DiePicture.active=!0,this.DiePicture.getComponent("DieAction").LetDie()},RebornFlash:function(e){0<e&&(this.Reborn.active=!0,this.scheduleOnce(function(){this.RebornFlashEnd(e)},.2))},RebornFlashEnd:function(e){this.Reborn.active=!1,this.scheduleOnce(function(){this.RebornFlash(e-1)},.2)},TheWorldStart:function(e){this.TheWorld.active=!0,this.TheWorld.scale=cc.v2(1,1),this.TheWorldActive=1,this.scheduleOnce(function(){this.TheWorldActive=0},.2)},TheWorldEnd:function(e){this.TheWorldActive=-1,this.scheduleOnce(function(){this.TheWorldActive=0,this.TheWorld.active=!1},.2)},onCollisionEnter:function(e,t){if(!this.GameManager.getComponent("GameManager").GamePause){if("Bullet"==e.node.name)if(this.HaveShield)this.LoseShield(),e.node.destroy(),this.LockBulletLock(.2);else{if(0!=e.node.getComponent("BulletControl").Used)return;if(e.node.getComponent("BulletControl").Used=!0,this.BulletLock)return void e.node.destroy();1==this.GameManager.getComponent("GameManager").Skill_2_Type&&this.GameManager.getComponent("GameManager").Skill_1_Time>=this.GameManager.getComponent("GameManager").PassiveSkill1Energy?(this.GameManager.getComponent("GameManager").Skill_1_Time-=this.GameManager.getComponent("GameManager").PassiveSkill1Energy,e.node.destroy(),this.LockBulletLock(1),this.RebornFlash(5),this.GameManager.getComponent("GameManager").Skill_1_Time<this.GameManager.getComponent("GameManager").PassiveSkill1Energy&&(this.GameManager.getComponent("GameManager").PlayerPowerFlash(3),this.EnergyBar.getComponent("EnergyBarControl").EnergyBarFlash(3))):(e.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.node.getComponent(cc.RigidBody).angularVelocity=500,this.EnergyBar.active=!1,this.GameManager.getComponent("GameManager").GameOver())}if(null!=e.node.getComponent("Item")){if(0!=e.node.getComponent("Item").Used)return;e.node.getComponent("Item").Used=!0,e.node.getComponent("Item").Eaten(),this.GameManager.getComponent("GameManager").ItemNum--;var i=e.node.getComponent("Item");i.Type==n.ItemType.upRotationSpeed&&this.GameManager.getComponent("GameManager").upRotationSpeed(),i.Type==n.ItemType.upShootSpeed&&this.GameManager.getComponent("GameManager").upShootSpeed(),i.Type==n.ItemType.upBulletSpeed&&this.GameManager.getComponent("GameManager").upBulletSpeed(),i.Type==n.ItemType.upBulletLifeTime&&this.GameManager.getComponent("GameManager").upBulletLifeTime(),i.Type==n.ItemType.upPlayerSpeed&&this.GameManager.getComponent("GameManager").upPlayerSpeed(),i.Type==n.ItemType.upSkill_1_MAX&&this.GameManager.getComponent("GameManager").upSkill_1_MAX(),i.Type==n.ItemType.GetShield&&(this.GetShield(),this.GameManager.getComponent("GameManager").GetShield())}}}}),cc._RF.pop()},{GameCommon:"GameCommon"}],PointControl:[function(e,t,i){"use strict";cc._RF.push(t,"32e2aQSfAhELoaN6yaYfovn","PointControl"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},targetPos:{default:null,visible:!1}},start:function(){this.targetPos=this.target.getPosition(),this.targetPos.x+=this.target.parent.getPosition().x,this.targetPos.y+=this.target.parent.getPosition().y;var e=this.node.getPosition(),t=Math.atan2(this.targetPos.y-e.y,this.targetPos.x-e.x);this.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(800*Math.cos(t),800*Math.sin(t))},update:function(e){cc.pDistance(this.node.position,this.targetPos)<10&&this.node.destroy()}}),cc._RF.pop()},{}],PressLabel:[function(e,t,i){"use strict";cc._RF.push(t,"f1184nu9NBGNZqAhBF120GB","PressLabel");var n=e("GameCommon");cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Type:{default:n.LabelType.UpdateLog,type:n.LabelType,displayName:"类型"}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this._initTouchEvent()},_initTouchEvent:function(){this.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,this)},_touchStartEvent:function(e){this.GameManager.getComponent("GameManager").OnPressLabel(this.Type)}}),cc._RF.pop()},{GameCommon:"GameCommon"}],ShieldControl:[function(e,t,i){"use strict";cc._RF.push(t,"ee69bfL4ZFE8LFdNz25PeIq","ShieldControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},Timer:{default:null,visible:!1},Timer2:{default:null,visible:!1},LoseShield:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.Timer=-1,this.Timer2=-1,this.LoseShield=!1,cc.director.getCollisionManager().enabled=!0},update:function(e){if(0<this.Timer){this.LoseShield=!0,this.Timer-=e;var t=this.node.scale;this.node.scale=cc.v2(t+50*e,t+50*e),this.Timer<=0&&(this.Timer2=.1)}0<this.Timer2&&(this.Timer2-=e,this.Timer2<=0&&(this.node.active=!1,this.node.scale=cc.v2(1,1),this.LoseShield=!1))},onCollisionEnter:function(e,t){this.GameManager.getComponent("GameManager").GamePause||"Bullet"==e.node.name&&this.LoseShield&&e.node.destroy()}}),cc._RF.pop()},{}],SkillButton:[function(e,t,i){"use strict";cc._RF.push(t,"b9721mSS1JPuZRtrwo8xejy","SkillButton"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager"),this._initTouchEvent()},_initTouchEvent:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,e),e.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,e)},_touchStartEvent:function(){this.GameManager.getComponent("GameManager").Skill_1_On=!0,this.GameManager.getComponent("GameManager").Skill_1_Start()},_touchEndEvent:function(){this.GameManager.getComponent("GameManager").Skill_1_On=!1}}),cc._RF.pop()},{}],TouchMove:[function(e,t,i){"use strict";cc._RF.push(t,"6d420HuweJAJ692BJctHGzi","TouchMove"),cc.Class({extends:cc.Component,properties:{playerNode:{default:null,type:cc.Node,displayName:"被操作的目标Node"}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this._initTouchEvent(),this.InTouch=!1},_initTouchEvent:function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,this._touchStartEvent,e),e.node.on(cc.Node.EventType.TOUCH_MOVE,this._touchMoveEvent,e),e.node.on(cc.Node.EventType.TOUCH_END,this._touchEndEvent,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEndEvent,e)},_touchStartEvent:function(e){this.StartPos=this.node.convertToNodeSpaceAR(e.getLocation()),this.LastPos=this.StartPos,this.ThisPos=this.StartPos,this.InTouch=!0},_touchMoveEvent:function(e){this.ThisPos=this.node.convertToNodeSpaceAR(e.getLocation())},_touchEndEvent:function(e){this.EndPos=this.node.convertToNodeSpaceAR(e.getLocation());this.EndPos.x,this.StartPos.x,this.EndPos.y,this.StartPos.y;this._getDistance(this.ThisPos,this.StartPos)<2e4&&(this.playerNode.getComponent("PlayerControl").TouchDev=cc.v2(0,0)),this.InTouch=!1},_getDistance:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},update:function(e){if(this.InTouch){var t=this.ThisPos.x-this.LastPos.x,i=this.ThisPos.y-this.LastPos.y;if(this._getDistance(this.ThisPos,this.LastPos)<10)cc.log(222);else{var n=Math.atan2(i,t),a=this._getDistance(this.ThisPos,this.LastPos);this._speed2=this.GameManager.getComponent("GameManager").PlayerSpeed2,5<a?a=1:a/=5,this.playerNode.getComponent("PlayerControl").TouchDev=cc.v2(Math.cos(n)*this._speed2*5*a,Math.sin(n)*this._speed2*5*a),this.LastPos=this.ThisPos}}}}),cc._RF.pop()},{}],TurretControl:[function(e,t,i){"use strict";cc._RF.push(t,"dfdeckAElVHAIkJX5f1Sh8/","TurretControl"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1},BulletPrefab:{default:null,type:cc.Prefab},ShootTimer:{default:null,visible:!1},BulletParent:{default:null,visible:!1}},onLoad:function(){this.GameManager=cc.find("Canvas/GameManager"),this.ShootTimer=999},start:function(){},GameInit:function(){this.BulletParent=new cc.Node("BulletParent"),this.BulletParent.x=0,this.BulletParent.y=0,this.BulletParent.parent=this.GameManager,this.BulletParent.x=0,this.BulletParent.y=0,this.CreateBullet()},GameReset:function(){},update:function(e){if(!this.GameManager.getComponent("GameManager").GamePause){var t=this.GameManager.getComponent("GameManager").GameSpeed,i=this.GameManager.getComponent("GameManager").RotationSpeed;i*=t,this.node.rotation+=e*i,this.GameManager.getComponent("GameManager").Skill_1_Active?this.ShootTimer-=e/2*t:this.ShootTimer-=e*t,this.ShootTimer<=0&&this.CreateBullet()}},CreateBullet:function(){var e=cc.instantiate(this.BulletPrefab);e.x=0,e.y=0,e.parent=this.BulletParent;var t=this.GameManager.getComponent("GameManager").BulletSpeed;e.getComponent("BulletControl").BulletSpeed=t;var i=this.GameManager.getComponent("GameManager").GameSpeed;t*=e.getComponent("BulletControl").GameSpeed=i,e.getComponent(cc.RigidBody).linearVelocity=cc.v2(cc.pForAngle(this.node.rotation*Math.PI/180).y*t,cc.pForAngle(this.node.rotation*Math.PI/180).x*t),e.getComponent("BulletControl").Angle=this.node.rotation*Math.PI/180;var n=this.GameManager.getComponent("GameManager").BulletScale;e.scale=cc.v2(n,n);var a=this.GameManager.getComponent("GameManager").ShootSpeed;this.ShootTimer=a}}),cc._RF.pop()},{}],UIcontrol:[function(e,t,i){"use strict";cc._RF.push(t,"576f887/9tNDqDmp/6W/YeI","UIcontrol"),cc.Class({extends:cc.Component,properties:{GameManager:{default:null,type:cc.Node,visible:!1}},start:function(){this.GameManager=cc.find("Canvas/GameManager")},OnPressBcakToMenue:function(){this.GameManager.getComponent("GameManager").MainMenuUI.active=!0,this.node.active=!1},OnPressClose:function(){this.node.active=!1,this.GameManager.getComponent("GameManager").CanClick=!0}}),cc._RF.pop()},{}]},{},["BombControl","BulletControl","ChooseSkill","DeviceMotionControl","DieAction","EnergyBarControl","GameCommon","GameManager","GameOverUIControl","GameRankControl","GuideUIControl","Item","JoyControl","JoystickBG","Keyboard","OneSkill","PlayerControl","PointControl","PressLabel","ShieldControl","SkillButton","HelloWorld","TouchMove","TurretControl","UIcontrol"]);